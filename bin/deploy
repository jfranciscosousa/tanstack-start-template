#!/bin/sh

# Deployment script
# This script validates configuration, pushes database schema with Drizzle, and builds

set -e  # Exit on error

# Load environment variables
ENV_FILE=.env . bin/load-env

echo "ğŸš€ Starting deployment process..."

echo "âœ… Validating configuration..."
pnpm tsx tasks/validateConfig.ts

echo "ğŸ“Š Setting up database schema with Drizzle..."
pnpm drizzle-kit migrate

echo "ğŸ”¨ Building application..."
bin/build

echo "âœ… Deployment process completed successfully!"
echo "ğŸ“ Build files are ready in: build/"