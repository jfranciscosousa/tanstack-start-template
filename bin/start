#!/bin/sh

# Start production server script
# This script starts the built application server

set -e  # Exit on error

# Load environment variables
ENV_FILE=.env . bin/load-env
PORT="${PORT:-3000}"
SERVER_FILE=".output/server/index.mjs"

if [ ! -f "$SERVER_FILE" ]; then
    echo "❌ Server file not found: $SERVER_FILE"
    echo "💡 Run 'NODE_ENV=node_server bin/build' first to build the application"
    exit 1
fi

echo "🚀 Starting production server..."

# Start the production server
node .output/server/index.mjs
